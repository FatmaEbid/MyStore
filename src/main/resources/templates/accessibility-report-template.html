<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Accessibility Report</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
          background-color: #1e1e1e;
          font-family: Arial, sans-serif;
          color: #ffffff;
          padding: 20px;
        }
        .header {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        .header img {
          height: 50px;
        }
        h1 {
          color: #ffcc00;
        }
        .metadata {
          display: flex;
          justify-content: space-between;
          flex-wrap: wrap;
          background-color: #2e2e2e;
          padding: 10px;
          margin-top: 10px;
          border-radius: 8px;
        }
        .meta-group {
          margin: 5px 10px;
        }
        .chart-container {
          display: flex;
          gap: 20px;
          margin-top: 20px;
        }
        .chart-box {
          width: 300px;
          background: #2b2b2b;
          padding: 20px;
          border-radius: 8px;
        }
        .summary-cards {
          display: flex;
          gap: 15px;
          margin-top: 20px;
          flex-wrap: wrap;
        }
        .summary-card {
          flex: 1;
          padding: 20px;
          color: white;
          text-align: center;
          border-radius: 10px;
          font-size: 1.2em;
        }
        .errors { background-color: #c0392b; }
        .warnings { background-color: #f39c12; }
        .notices { background-color: #3498db; }
        .issue-card {
          margin-top: 20px;
          padding: 15px;
          border-left: 5px solid #ffcc00;
          background-color: #2e2e2e;
          border-radius: 5px;
        }
        .issue-card h3 {
          color: #ffcc00;
        }
        .issue-card code {
          background: #444;
          color: #eee;
          padding: 2px 4px;
          border-radius: 4px;
        }
        a { color: #1abc9c; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>

<div class="header">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/National_Trust_logo_green.svg/1200px-National_Trust_logo_green.svg.png" alt="Logo" />
    <h1>Accessibility Report</h1>
</div>

<div class="metadata">
    <div class="meta-group"><strong>Project:</strong> {{PROJECT_NAME}}</div>
    <div class="meta-group"><strong>URL:</strong> <a href="{{TESTED_URL}}" target="_blank">{{TESTED_URL}}</a></div>
    <div class="meta-group"><strong>Browser:</strong> {{BROWSER}}</div>
    <div class="meta-group"><strong>Device:</strong> {{DEVICE}}</div>
    <div class="meta-group"><strong>Standard:</strong> {{WCAG_LEVEL}}</div>
    <div class="meta-group"><strong>URLs Scanned:</strong> 1</div>
    <div class="meta-group"><strong>Timestamp:</strong> {{DATE_TIME}}</div>
</div>

<div class="chart-container">
    <div class="chart-box">
        <canvas id="summaryChart" width="200" height="200"></canvas>
        <div style="text-align:center;">
            <span style="color:#e74c3c;">■ Errors</span>&nbsp;
            <span style="color:#f1c40f;">■ Warnings</span>&nbsp;
            <span style="color:#3498db;">■ Notices</span>
        </div>
    </div>
    <div class="summary-cards">
        <div class="summary-card errors"><strong>Errors</strong><br>{{ERROR_COUNT}}</div>
        <div class="summary-card warnings"><strong>Warnings</strong><br>{{WARNING_COUNT}}</div>
        <div class="summary-card notices"><strong>Notices</strong><br>{{NOTICE_COUNT}}</div>
    </div>
</div>

<div id="violations">
    {{ISSUES}}
</div>

<script>
    const chartData = {{CHART_DATA}};
    const ctx = document.getElementById('summaryChart').getContext('2d');
    new Chart(ctx, {
      type: 'pie',
      data: {
        labels: chartData.map(d => d.label),
        datasets: [{
          data: chartData.map(d => d.value),
          backgroundColor: ['#e74c3c', '#f1c40f', '#3498db']
        }]
      },
      options: {
        plugins: {
          legend: { labels: { color: "#fff" } }
        }
      }
    });
</script>

</body>
</html>
