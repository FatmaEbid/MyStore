<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Accessibility Violations Report</title>
    <style>
        body {
          font-family: Arial, sans-serif;
          background-color: #fff;
          color: #1a1a1a;
          padding: 20px;
          line-height: 1.6;
        }
        h1, h2 {
          color: #003366;
        }
        .summary {
          background-color: #e6f2ff;
          border-left: 5px solid #3399ff;
          padding: 10px;
          margin-bottom: 20px;
        }
        .violation {
          border: 1px solid #ccc;
          margin-bottom: 15px;
          border-left: 5px solid #ff6666;
          padding: 10px;
          background: #f9f9f9;
        }
        .violation .impact-high {
          color: #cc0000;
        }
        .violation .impact-medium {
          color: #cc6600;
        }
        .violation .impact-low {
          color: #666600;
        }
        canvas {
          max-width: 400px;
        }
    </style>
</head>
<body>
<h1>Accessibility Violations Report</h1>

<div class="summary">
    <p><strong>Device:</strong> {{DEVICE_NAME}}</p>
    <p><strong>Date:</strong> {{DATE}}</p>
    <p><strong>Time:</strong> {{TIME}}</p>
    <p><strong>WCAG Level:</strong> {{WCAG_LEVEL}}</p>
    <p><strong>Total Violations:</strong> {{TOTAL_VIOLATIONS}}</p>
</div>

<h2>Impact Summary</h2>
<canvas id="impactChart"></canvas>

<h2>Violation Details</h2>
{{VIOLATION_DETAILS}}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('impactChart');
    const chart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: ['Critical', 'Serious', 'Moderate', 'Minor'],
        datasets: [{
          label: 'Violations by Impact',
          data: [{{CRITICAL}}, {{SERIOUS}}, {{MODERATE}}, {{MINOR}}],
          backgroundColor: ['#990000', '#ff6600', '#ffcc00', '#cccccc'],
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    });
</script>

</body>
</html>
